@import '_components/variables';
@import '_includes/normalize';
@import '_includes/standard';
@import '_components/mixins';
@import '_components/keyframes';
@import '_components/buttons';
@import '_components/animations';
@import '_modules/home';

html, body {
	width: 100%;
	height: 100%;
}
body {
	background: $col_quaternary;
	font: #{$font-size-base}px/#{$line-height-base} $font-family-base;
	color: $col_text;
	@include until($desktop) { font-size: 18px; }
	@include until($tablet) { font-size: 16px; }
}

#wrapper {
	position: relative;
}

.container {
	position: relative;
	width: 100%;
	height: 100%;
}

/* PRELOADER */
.preload.ng-enter, .preload.ng-leave {
  background: white;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
}

.preload.ng-enter {
  @include animation( $transition fade-in );
  z-index: 100;
}

.preload.ng-leave {
  @include animation( $transition fade-out );
  z-index:99;
}

.loaded {
	.preload {
		display: none;
		@include animation( 0.3s ease 1s normal none 1 running hide );
	}
}
.preload {
	opacity: 1;
    height: 100%;
    width: 100%;
    position: absolute;
    top: 0px;
    left: 0px;
    z-index: 9999;
    background: $col_quaternary;
    transform:translateZ(9999px);
	-webkit-transform:translateZ(9999px);
	.logo {
		width: 100%;
		text-align: center;
		position: absolute;
		top: 50%;
		margin-top: -75px;
		@include transform(translateY(50%));
		@extend .fadeInBottom;
	    img {
	    	width: 150px;
			height: 150px;
	    }
	}
}

* {
	box-sizing: border-box;
	&:after, 
	&:before { 
		box-sizing: border-box; 
	} 
}

a {
	@include transition(all, $transition, ease-in-out);
	&:focus,
	&:hover {
		outline: none; 
	}
} 

p, ul, ol, dl {
	font-size: $size_general;
}

.nav {
	ul {
		list-style-type:none;
		margin:0;
		padding:0;
		display: inline-block;
	}
}

#header  {

	#menuIcon {
		position: fixed;
		top: 20px;
		left: 20px;
	  	display: inline-block;
		padding: $button-size/2 $button-size/4;
		@include transition(all, $transition, ease);
		cursor: pointer;
		user-select: none; 
		background: $col_quaternary;
		opacity: 1;
		z-index:500;
		line-height: 0em;
	 
		&:hover {
			opacity: 1;
			background: $col_tertiary;
		}

		&:active {
			transition: 0;
			background: $col_tertiary;
			opacity: 0.75;
		}

		&.reverse {
			background: $col_dark_bg;
			.lines {
				background: $col_quaternary;
				&:before, &:after {
					background: $col_quaternary;
				}
			}
		}

		&.animate {
			.lines {
				&:before, &:after {
					top: 50%;
					margin-top: -2px;
				}
			}
		}

		&.animate-logo {
			#logo {
				max-height: 44px;
			}
		}

		&.x.close {
			.lines {
				/*hide the middle line*/
			    background: transparent;
			 
			    /*overlay the lines by setting both their top values to 0*/
			    &:before, &:after{
			      transform-origin: 50% 50%;
			      top:0;
			      width: 30px;
			    }
			 
			    // rotate the lines to form the x shape
			    &:before{
			    	@include transform(rotate3d(0,0,1,45deg));
			    }
			    &:after{
			    	@include transform(rotate3d(0,0,1,-45deg));
			    }
			}
		}
		.lines {
			//create middle line
			@include line;
			position: relative;

			/*create the upper and lower lines as pseudo-elements of the middle line*/
			&:before, &:after {
				@include line;
				position: absolute;
				left:0;
				content: '';
				transform-origin: 50px/14 center;
			}
			&:before { top: $button-size/4; }
			&:after { top: -$button-size/4; }
		}
		&.arrow-up.close {
			@include transform(scale3d(.8,.8,.8) rotate3d(0,0,1,90deg)); // Rotate around the z-axis
		}
	}

    #mainNav {
    	opacity: 0;
    	top: 0;
		position: fixed;
		bottom: 0;
		left: 0px;
		right: 0px; 
		background: $col_quaternary;
		padding: 0;
		z-index: 400;
		font-size: $size_general;

		@include transition(opacity, $transition, ease-in-out);
		@include transform(translate(9999px));
		

		&.active {
			opacity: 1;
			@include transition(opacity, $transition, ease-in-out);
			@include transform(translate(0));
		}
    	ul {
    		margin: 0;
    		padding: 0;
    		font-size: 1em;
    		width: 100%;
    		height: 100%;
    		li {
    			height: 100%;
    			width: 50%;
    			float: left;
    			position:relative;
    			display: table;
				&.animate {
					opacity: 1;
					@include transition(opacity, $transition_medium, ease-in-out);
				}
    			a {
    				width: 100%;
					height: 100%;
					color: #FFF;
					display: table-cell;
					color: $col_dark_bg;
					text-align: center;
					vertical-align: middle;
					text-transform: uppercase;
					font-size: em(40px);
				    font-family: $font_headline;
				    font-weight: bold;

					&:hover {
						color: $col_dark_bg;
						background: $col_tertiary;
					}
    			}
    		}
    	}

    	.twitter {
    		float: right;
    		line-height: 54px;
    		position:relative;
			padding: 0 15px;
			margin: 15px 0;
			border-radius: 27px;
			&:after {
				content: " ";
    			background: url(../images/icon-twitter.svg) no-repeat;
    			width: 50px;
				height: 50px;
				display: block;
				background-size: 50px 50px;
				position: absolute;
				top: 50%;
				left: 50%;
				margin: -25px 0 0 -25px;
				opacity: 0;
				@include transition(opacity, $transition_fast, ease-in-out);
			}
    		&:hover {
    			text-indent: -9999;
    			color:$col_quaternary;
    			@include transition(opacity, $transition_fast, ease-in-out);
	    		&:after {
					opacity: 1;
					@include transition(opacity, $transition, ease-in-out);
	    		}
	    	}
    	}
    }

    #logo {
    	width: 70px;
    	height: 70px;
		opacity: 0;

		@extend .fadeInBottom;
    	@include transform(translateY(50%));
		@include animation( fade-in 2s ease 1s forwards );

		&.larger {
			@include transform(scale(1,1));
			@include transition(transform, $transition_fast, ease-in-out);
		}
		&.smaller {
			@include transform(scale(0.7,0.7));
			@include transition(transform, $transition_fast, ease-in-out);
		}
		&.dark {
			svg {
				path, rect {
					@include animation( fill-logo-dark $transition_slow forwards );
				}
			}
		}
		&.light {
			svg {
				path, rect {
					@include animation( fill-logo-light $transition_slow forwards );
				}
			}
		}
		position: fixed;
		top: 20px;
		left: 20px;
		z-index: 10;
		svg {
			width: 100%;
			height: auto;
		}
	}
}

.columns {
	.column {
		height: 100%;
	}
}
.column {
	width: 50%;
	float:left;
}

#footer {
	width: 100%;
	padding: 5.5em 3.5em;
	background: #222;
	color: $col_grey;
	font-size: $size_small_base;
	a {
		color: $col_grey;
		&:hover {
			color: $col_dark_bg;
		}
	}
	.inner {
		.column {
			ul {
				margin: 0;
				li {
					display: inline-block;
					margin: 0 0.5em;
					&:last-child {
						margin-right: 0;
					}
				}
			}
			&#footerLinks {
				text-align: right;
			}
		}
	}
}

.icon_twitter {
	background: url(../images/icon-twitter.svg) no-repeat;
	width: 80px;
	height: 80px;
	display: inline-block;
	background-size: 80px 80px;
	text-indent: -9999px;
}

.icon_github {
	background: url(../images/icon-github.svg) no-repeat;
	width: 80px;
	height: 80px;
	display: inline-block;
	background-size: 80px 80px;
	text-indent: -9999px;
}

.loaded {
	#topBg {
		@include transform(translateY(0));
		@extend .fadeInTop;
	}
	#top {
		 .inner {
		 	>div {
		 		p {
		 			opacity: 0;
		 			@include animation( fade-in 2s ease 1s forwards );
		 		}
		 	}
		 }
	}
}
#topBg {
	width: 100%;
    height: 90%;
    position: fixed;
    top: 0px;
    left: 0px;
    overflow: hidden;
    background: $col_quaternary;
    @include transform(translateY(-50%));
}

#main {
	height: 100%;
	width: 100%;
}